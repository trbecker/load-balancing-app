FROM ubuntu:20.04

RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get install -y \
    cmake build-essential autoconf libtool pkg-config git \
    libgrpc++-dev libprotobuf-dev protobuf-c-compiler \
    protobuf-compiler && apt-get clean

RUN rm -fr /playpen && mkdir /playpen
WORKDIR /playpen

COPY intent /playpen/intent
COPY intentctl /playpen/

RUN mkdir /playpen/build && cd /playpen/build && cmake .. \
    && make && make install 

ENTRYPOINT sleep 10000000000